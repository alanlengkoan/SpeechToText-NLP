<h2><%= halaman %></h2>

<table border="1">
    <thead>
        <tr>
            <th>No</th>
            <th>Male</th>
            <th>Female</th>
            <th>Text</th>
            <th>Aksi</th>
        </tr>
    </thead>
    <tbody>
        <% for (let i = 0; i < list.length; i++) { %>
            <tr>
                <td><%= i + 1 %></td>
                <td>
                    <audio controls>
                        <source src="uploads/voice/male/<%= list[i].male %>" type="audio/mpeg">
                    </audio>
                </td>
                <td>
                    <audio controls>
                        <source src="uploads/voice/female/<%= list[i].female %>" type="audio/mpeg">
                    </audio>
                </td>
                <td><%= list[i].text %></td>
                <td>
                    <button class="btn btn-primary" id="translate" data-text="<%= list[i].text %>">
                        Terjamahan
                    </button>
                </td>
            </tr>
        <% } %>
    </tbody>
</table>

<script>
    $(document).on('click', '#translate', function () {
        var ini = $(this);
        var text = ini.data('text');

        $.ajax({
            url: '/detect',
            method: 'POST',
            data: {
                message: text
            },
            success: function (res) {
                console.log(res);
            }
        });
    });
</script>